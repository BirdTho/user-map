(this["webpackJsonpuser-map"]=this["webpackJsonpuser-map"]||[]).push([[0],{21:function(e,t,n){e.exports=n(49)},26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),l=n.n(i),o=(n(26),n(27),n(7)),s=n.n(o),c=n(8),u=n(2),p=n(3),d=n(5),h=n(4),m=n(6),f=n(20),g=n.n(f).a.create({baseURL:"https://jsonplaceholder.typicode.com/",timeout:5e3}),v=new(function(){function e(t){Object(u.a)(this,e),this.axiosInstance=void 0,this.axiosInstance=t}return Object(p.a)(e,[{key:"getUsers",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axiosInstance.get("users");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())(g),k=n(9),b=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).getListItems=function(){var e=n.props,t=e.data,a=e.listKeyFn,i=e.onClick,l=e.ListElement;return t.map((function(e,t){var n=a?a(e,t):t;return r.a.createElement(l,{key:n,data:e,onClick:i})}))},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.data,e.listRef),n=(e.ListElement,e.onClick,Object(k.a)(e,["data","listRef","ListElement","onClick"]));return r.a.createElement("ul",Object.assign({},n,{ref:t}),this.getListItems())}}]),t}(r.a.PureComponent),E=function(e){var t=e.children,n=Object(k.a)(e,["children"]);return r.a.createElement("li",n,t)},j=(n(46),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props.data,t=e.id,a=e.address.geo;n.props.onClick({geo:{lat:parseFloat(a.lat),lng:parseFloat(a.lng)},id:t})},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.name,n=e.id,a=e.address,i=e.phone,l=e.email,o=e.website;return r.a.createElement(E,{className:"user-card",onClick:this.onClick,"data-index":n},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},t)),r.a.createElement("tr",null,r.a.createElement("td",null,"Phone:"),r.a.createElement("td",null,i)),r.a.createElement("tr",null,r.a.createElement("td",null,"Email:"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Address:"),r.a.createElement("td",null,a.street," ",a.suite,r.a.createElement("br",null),a.city," ",a.zipcode)),r.a.createElement("tr",null,r.a.createElement("td",null,"Website:"),r.a.createElement("td",null,r.a.createElement("a",{href:"http://"+o,target:"_blank",rel:"noopener noreferrer"},o))))))}}]),t}(r.a.PureComponent)),C=(n(47),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).listRef=void 0,n.listRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.listHighlight;if(e.listHighlight!==t){var n=this.listRef.current,a=e.listHighlight;if(a)Array.from(n.children).find((function(e){return e.getAttribute("data-index")===a.toString()})).classList.remove("highlight");if(t){var r=Array.from(n.children).find((function(e){return e.getAttribute("data-index")===t.toString()}));r.scrollIntoView({behavior:"smooth",block:"center"}),r.classList.add("highlight")}}}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.onClick;return r.a.createElement(b,{listRef:this.listRef,data:t,ListElement:j,onClick:n,className:"user-list"})}}]),t}(r.a.PureComponent)),O=(n(48),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).mapRef=void 0,n.onMapClicked=function(e){n.props.onMapClicked(e)},n.mapRef=r.a.createRef(),n.state={map:null,infoWindow:new google.maps.InfoWindow,markers:{}},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t,n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.mapRef.current,n=this.state.infoWindow,a=this.props.onMapClicked,n.addListener("closeclick",(function(){a(null)})),r=new google.maps.Map(t,{zoom:4,mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!1,center:new google.maps.LatLng(0,0)}),this.setState({map:r});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setMarkers",value:function(){var e=this.state,t=e.map,n=e.infoWindow,a=this.props,r=a.users,i=a.onMapClicked,l=0,o=0;if(t&&r.length){var s={};r.forEach((function(e){var a=e.id,r=e.name,c=e.address.geo,u=parseFloat(c.lat),p=parseFloat(c.lng);l+=u,o+=p;var d=new google.maps.LatLng({lat:u,lng:p}),h=new google.maps.Marker({position:d,map:t,title:r});h.addListener("click",(function(){n.setContent(r),n.open(h.get("map"),h),i(a)})),s[a]=h})),t.setCenter(new google.maps.LatLng({lat:l/r.length,lng:o/r.length})),this.setState({markers:s})}}},{key:"componentDidUpdate",value:function(e){var t,n;if((null===(t=e.users)||void 0===t?void 0:t.length)<1&&(null===(n=this.props.users)||void 0===n?void 0:n.length)>0&&this.setMarkers(),this.props.center!==e.center&&this.props.center){var a=this.state,r=a.map,i=a.markers,l=a.infoWindow,o=this.props.center,s=o.geo,c=o.id;if(r&&(r.setZoom(8),r.panTo(new google.maps.LatLng(s)),i)){var u=i[c];u&&(l.setContent(u.getTitle()||""),l.open(r,u))}}}},{key:"render",value:function(){var e=this.mapRef;return r.a.createElement("div",null,r.a.createElement("div",{className:"user-map-root",ref:e}))}}]),t}(r.a.Component)),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state=void 0,n.onListClick=function(e){n.setState({mapHighlight:e,listClicked:e.id})},n.onMapClicked=function(e){n.setState({listClicked:e})},n.state={userData:[],listClicked:null,mapHighlight:null},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUsers();case 2:t=e.sent,this.setState({userData:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.onListClick,t=this.onMapClicked,n=this.state,a=n.listClicked,i=n.mapHighlight,l=n.userData;return r.a.createElement("div",null,r.a.createElement(C,{data:l,onClick:e,listHighlight:a||null}),r.a.createElement(O,{users:l,center:i||null,onMapClicked:t}))}}]),t}(r.a.Component);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=setInterval((function(){var e;(null===(e=google)||void 0===e?void 0:e.maps.Map)&&(clearInterval(L),l.a.render(r.a.createElement(y,null),document.getElementById("root")))}),250);"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.6f1096ea.chunk.js.map